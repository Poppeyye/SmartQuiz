{% extends "base.html" %}

{% block content %}

<h1 class="h1">üèÜ Global Ranking</h1>

<div class="search-container">
    <input type="text" id="search-input" placeholder="Buscar por nombre..." />
</div>

<div id="category-leaderboards">
    {% set categories = ['Deportes', 'Historia', 'Software', 'Moda', 'Economia'] %}
    {% for category in categories %}
        <div class="leaderboard-container">
            <h2 class="category-title">{{ category }}</h2>
            <table class="leaderboard-table">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Nombre</th>
                        <th>Puntuaci√≥n</th>
                    </tr>
                </thead>
                <tbody id="best-scores-{{ category|lower }}" class="ranking-list"></tbody>
            </table>
        </div>
    {% endfor %}
</div>
<script src="{{ url_for('static', filename='rankings.js') }}"></script>
<script>
    window.onload = function() {
        // Obtener los par√°metros de la URL
        const params = new URLSearchParams(window.location.search);
        const searchInput = document.getElementById('search-input');

        const searchValue = params.get('search');

        // Si hay un valor, establecerlo en el input y disparar el evento 'input'
        if (searchValue) {
            searchInput.value = decodeURIComponent(searchValue);
            // Crear y despachar un evento de entrada (input) manualmente
            const event = new Event('input', { bubbles: true });
            searchInput.dispatchEvent(event);
        }
    };
</script>
  {% endblock %}